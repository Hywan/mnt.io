#search {
  --_height: 80vh;
  --_margin: var(--space-very-large);
  --_input-height: 4rem;
  position: fixed;

  width: min(100%, var(--content-max-width));
  margin-inline: auto;

  /* Open */
  top: 10vh;
  height: var(--_height);
  overflow-y: auto;

  /* Closed */
  &:has(input:placeholder-shown) {
    height: var(--_input-height);
    overflow-y: none;
  }

  color: currentColor;
  padding: 0;
  border: 1px var(--color-accent) solid;
  border-radius: var(--space-small);
  background: var(--_background-color);
  overflow: hidden;

  transition: height var(--transition-duration-long);
  transition-timing-function: var(--transition-timing-snap);

  &::backdrop {
    backdrop-filter: blur(var(--blur)) brightness(50%) grayscale(60%);
  }

  .pagefind-ui {
    .pagefind-ui__search-input {
      width: 100%;
      height: var(--_input-height);
      margin: 0;
      padding: 0;
      border-width: 0 0 1px 0;

      &:focus {
        outline: none;
      }
    }

    .pagefind-ui__search-clear {
      display: none;
    }

    .pagefind-ui__results-area {
      padding: var(--space);
      overflow: auto;
      height: calc(var(--_height) - var(--_input-height));

      .pagefind-ui__message {
        color: var(--color-light-darker);
      }
      
      .pagefind-ui__results {
        list-style: none;
        margin: 0;
        padding: 0;

        & ~ .pagefind-ui__button {
          margin-block-start: var(--space-large);
          width: 100%;
        }

        .pagefind-ui__result {
          + & {
            margin-block-start: calc(var(--space-very-large) / 2);
            padding-block-start: calc(var(--space-very-large) / 2);
            border-top: var(--border-width) var(--border-color-lighter) solid;
          }

          .pagefind-ui__result-title {
            font-weight: bold;
          }

          .pagefind-ui__result-nested {
            position: relative;
            margin-block-start: var(--space);
            margin-inline-start: var(--space-large);

            &::before {
              content: "â†³";
              position: absolute;
              top: 0;
              left: -1.4rem;
              font-size: 1em;
              color: var(--color-accent);
            }
          }
        }
      }
    }
  }
}

